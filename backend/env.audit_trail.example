# BuffrSign Audit Trail System - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://user:password@localhost:5432/buffrsign
REDIS_URL=redis://localhost:6379/0

# Audit trail specific database (optional - uses main database if not specified)
AUDIT_TRAIL_DB_URL=postgresql://user:password@localhost:5432/buffrsign_audit
AUDIT_RETENTION_DAYS=3650

# Database connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
PRIMARY_DOMAIN=buffr.ai
SIGNING_DOMAIN=sign.buffr.ai
API_DOMAIN=api.sign.buffr.ai

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=1440

# Password security
BCRYPT_ROUNDS=12

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4

# AI processing settings
AI_MAX_TOKENS=4000
AI_TEMPERATURE=0.7

# =============================================================================
# FILE STORAGE CONFIGURATION
# =============================================================================
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# Local storage settings
LOCAL_STORAGE_PATH=/var/lib/buffrsign/storage
MAX_FILE_SIZE=104857600

# =============================================================================
# KYC SERVICES CONFIGURATION
# =============================================================================
KYC_API_URL=https://kyc-service.example.com
KYC_API_KEY=your-kyc-api-key

# KYC verification settings
KYC_VERIFICATION_TIMEOUT=300
KYC_AUTO_APPROVE=false

# Supported countries and ID types
SUPPORTED_COUNTRIES=["NA"]
SUPPORTED_ID_TYPES=["namibian_id", "passport", "drivers_license"]

# =============================================================================
# SME KNOWLEDGE BASE CONFIGURATION
# =============================================================================
KNOWLEDGE_BASE_STORAGE_PATH=/var/lib/buffrsign/knowledge_bases
MAX_SME_DOCUMENT_SIZE=104857600

# Vector store settings
VECTOR_STORE_TYPE=memory
VECTOR_DIMENSION=1536

# RAG settings
RAG_MAX_RESULTS=5
RAG_SIMILARITY_THRESHOLD=0.7

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
ENVIRONMENT=development
LOG_LEVEL=INFO

# Application settings
APP_HOST=0.0.0.0
APP_PORT=8000
DEBUG=false

# Performance settings
WORKER_PROCESSES=4
MAX_CONCURRENT_REQUESTS=1000

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Email settings
EMAIL_FROM=noreply@buffr.ai
EMAIL_REPLY_TO=support@buffr.ai

# =============================================================================
# COMPLIANCE CONFIGURATION
# =============================================================================
COMPLIANCE_STANDARD=ETA_2019
DEFAULT_RETENTION_DAYS=1825

# Legal settings
LEGAL_BASIS_DEFAULT=legitimate_interest
CONSENT_REQUIRED=true

# Audit settings
AUDIT_LOG_LEVEL=INFO
AUDIT_ENCRYPTION_ENABLED=true

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Supabase settings
SUPABASE_AUTH_AUTO_REFRESH=true
SUPABASE_AUTH_PERSIST_SESSION=true

# =============================================================================
# DEVELOPMENT SETTINGS (for local development only)
# =============================================================================
# Uncomment and modify these for local development

# For local development with Docker
# DATABASE_URL=postgresql://postgres:password@localhost:5432/buffrsign
# REDIS_URL=redis://localhost:6379/0

# For testing
# ENVIRONMENT=test
# DEBUG=true
# KYC_AUTO_APPROVE=true

# =============================================================================
# PRODUCTION SETTINGS (for production deployment)
# =============================================================================
# Uncomment and modify these for production

# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# WORKER_PROCESSES=8
# MAX_CONCURRENT_REQUESTS=2000

# Production database (example with connection pooling)
# DATABASE_URL=postgresql://user:password@prod-db-host:5432/buffrsign?sslmode=require&pool_size=20&max_overflow=40

# Production Redis with SSL
# REDIS_URL=rediss://user:password@prod-redis-host:6379/0

# =============================================================================
# MONITORING AND LOGGING (optional)
# =============================================================================
# Sentry for error tracking
# SENTRY_DSN=your-sentry-dsn

# Log aggregation
# LOG_AGGREGATION_URL=your-log-aggregation-url

# Metrics collection
# METRICS_ENABLED=true
# METRICS_PORT=9090

# =============================================================================
# ADVANCED SETTINGS (for advanced users)
# =============================================================================
# Custom encryption keys (optional - system generates if not provided)
# ENCRYPTION_KEY=your-32-byte-encryption-key
# AUDIT_ENCRYPTION_KEY=your-32-byte-audit-encryption-key

# Custom certificate paths (for self-signed certificates)
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# Custom middleware settings
# CORS_ORIGINS=["https://your-domain.com", "https://app.your-domain.com"]
# TRUSTED_PROXIES=["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16"]

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit the actual .env file to version control
# 2. Use strong, unique passwords and API keys in production
# 3. Regularly rotate sensitive credentials
# 4. Use environment-specific configurations
# 5. Test all configurations before deploying to production
# 6. Monitor audit trail performance and storage usage
# 7. Ensure compliance with data retention policies
# 8. Regularly backup audit trail data
# 9. Implement proper access controls for audit data
# 10. Monitor and alert on audit trail integrity issues
